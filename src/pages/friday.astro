---
// Friday - Type C: Deconstructive / Brutalism | p5.js | Monochrome
import { name, strengths } from '../data/resources';
---

<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Friday | {name}</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Courier Prime', monospace;
      background: #000;
      color: #fff;
      overflow: hidden;
      min-height: 100vh;
      cursor: none;
    }

    #canvas-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    .brutal-mono {
      position: fixed;
      z-index: 2;
      pointer-events: none;
      mix-blend-mode: difference;
    }

    .name-chaotic {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(-10deg);
      font-size: clamp(3rem, 10vw, 8rem);
      font-weight: 700;
      letter-spacing: 0.2em;
      text-shadow:
        5px 5px 0 #fff,
        -5px -5px 0 #fff,
        5px -5px 0 #fff,
        -5px 5px 0 #fff;
      animation: chaos 2s infinite;
    }

    .strengths-strip {
      bottom: 10%;
      left: 0;
      right: 0;
      font-size: clamp(0.8rem, 1.5vw, 1.2rem);
      font-weight: 400;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(5px);
      transform: skewY(-2deg);
      line-height: 1.8;
    }

    .nav-chaos {
      position: fixed;
      top: 5%;
      right: 5%;
      z-index: 3;
      padding: 1rem;
      background: #fff;
      color: #000;
      text-decoration: none;
      font-weight: 700;
      font-size: 1.5rem;
      border: 5px solid #000;
      transform: rotate(5deg);
      transition: all 0.1s;
      pointer-events: all;
    }

    .nav-chaos:hover {
      transform: rotate(-5deg) scale(1.2);
      background: #000;
      color: #fff;
      border-color: #fff;
    }

    @keyframes chaos {
      0%, 100% {
        transform: translate(-50%, -50%) rotate(-10deg);
        text-shadow:
          5px 5px 0 #fff,
          -5px -5px 0 #fff,
          5px -5px 0 #fff,
          -5px 5px 0 #fff;
      }
      25% {
        transform: translate(-48%, -52%) rotate(-12deg);
        text-shadow:
          -5px 5px 0 #fff,
          5px -5px 0 #fff,
          -5px -5px 0 #fff,
          5px 5px 0 #fff;
      }
      50% {
        transform: translate(-52%, -48%) rotate(-8deg);
        text-shadow:
          5px -5px 0 #fff,
          -5px 5px 0 #fff,
          5px 5px 0 #fff,
          -5px -5px 0 #fff;
      }
      75% {
        transform: translate(-50%, -50%) rotate(-11deg);
        text-shadow:
          -5px -5px 0 #fff,
          5px 5px 0 #fff,
          -5px 5px 0 #fff,
          5px -5px 0 #fff;
      }
    }
  </style>
</head>
<body>
  <div id="canvas-container"></div>

  <div class="brutal-mono name-chaotic">{name}</div>
  <div class="brutal-mono strengths-strip">{strengths}</div>
  <a href="/" class="nav-chaos">Ã—</a>

  <script>
    // Type C: Chaotic particle storm
    let particles = [];

    function setup() {
      let canvas = createCanvas(windowWidth, windowHeight);
      canvas.parent('canvas-container');

      for (let i = 0; i < 300; i++) {
        particles.push(new ChaosParticle());
      }
    }

    function draw() {
      background(0, 50);

      for (let particle of particles) {
        particle.update();
        particle.display();
      }

      // Add randomness
      if (frameCount % 10 === 0) {
        particles.push(new ChaosParticle());
        if (particles.length > 500) {
          particles.splice(0, 1);
        }
      }
    }

    class ChaosParticle {
      constructor() {
        this.x = random(width);
        this.y = random(height);
        this.vx = random(-3, 3);
        this.vy = random(-3, 3);
        this.size = random(2, 20);
        this.life = 255;
        this.shape = int(random(3)); // 0: rect, 1: circle, 2: line
      }

      update() {
        this.x += this.vx;
        this.y += this.vy;
        this.life -= 2;

        // Bounce
        if (this.x > width || this.x < 0) this.vx *= -1;
        if (this.y > height || this.y < 0) this.vy *= -1;

        // Random direction change
        if (random(1) < 0.05) {
          this.vx = random(-3, 3);
          this.vy = random(-3, 3);
        }
      }

      display() {
        push();
        stroke(255, this.life);
        strokeWeight(2);
        noFill();

        if (this.shape === 0) {
          rect(this.x, this.y, this.size, this.size);
        } else if (this.shape === 1) {
          ellipse(this.x, this.y, this.size, this.size);
        } else {
          line(
            this.x,
            this.y,
            this.x + this.size,
            this.y + this.size
          );
        }

        pop();
      }
    }

    function windowResized() {
      resizeCanvas(windowWidth, windowHeight);
    }

    // Mouse interaction
    function mouseMoved() {
      for (let i = 0; i < 5; i++) {
        particles.push(new ChaosParticle());
      }
    }
  </script>
</body>
</html>
